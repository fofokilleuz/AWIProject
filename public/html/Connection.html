<SCRIPT type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<SCRIPT LANGUAGE="javascript">

function authenticate(formAuthenticate) {

var userName     	= document.getElementById("userName").value;
var mdp	 	= document.getElementById("mdp").value;



   $.ajax({
   				url : '/login', // La ressource ciblé
                type : 'POST', // Le type de la requête HTTP.
                data : { userName : userName, mdp : mdp},
            });

}

function isConnected(){
    var id = getCookie("idGoldFish");
    var token = getCookie("tokenGoldFish");
     $.ajax({
   				url : '/login/'+token+'/user/'+id, // La ressource ciblé
                type : 'GET', // Le type de la requête HTTP.
            });

}

function getCookie(name){
    if(document.cookie.length == 0)
       return null;

     var regSepCookie = new RegExp('(; )', 'g');
     var cookies = document.cookie.split(regSepCookie);

     for(var i = 0; i < cookies.length; i++){
       var regInfo = new RegExp('=', 'g');
       var infos = cookies[i].split(regInfo);
       if(infos[0] == name){
         return unescape(infos[1]);
       }
     }
     return null;
}

function deconnection(formDeconnection){
         $.ajax({
   				url : '/deconnection', // La ressource ciblé
                type : 'POST', // Le type de la requête HTTP.
            });
}


isConnected();

</SCRIPT>


<p>Add Authenticater</p>
<form method="post" name="formAuthenticate" action="ConnectionController">
   <input type=text name="userName" id="userName" />
   <input type=text name="mdp" id="mdp" />
   <INPUT TYPE="button" NAME="bouton" VALUE="CONNECTION" onClick="authenticate(formAuthenticate)">
</form>

<p>Deconnection</p>
<form method="post" name="formDeconnection" action="ConnectionController">
   <INPUT TYPE="button" NAME="bouton" VALUE="Deconnection" onClick="deconnection(formDeconnection)">
</form>




